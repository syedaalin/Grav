<footer class="bg-brand-dark text-white pt-24 pb-12 relative overflow-hidden @container [content-visibility:auto] [contain-intrinsic-size:500px]">
    {# Background Pattern #}
    <div class="absolute inset-0 opacity-5 pointer-events-none" style="background-image: url('{{ url('theme://images/pattern.svg') }}'); background-size: 600px;"></div>
    
    <div class="container mx-auto px-6 max-w-container relative z-10">
        <div class="grid grid-cols-1 @md:grid-cols-2 @lg:grid-cols-4 gap-12 mb-16 border-b border-white/10 pb-16">
            {# Column 1: Brand & Mission #}
            <div class="@lg:col-span-1 space-y-6">
                {% include 'partials/logo.html.twig' %}
                
                <div class="space-y-4">
                    <h4 class="font-bold text-lg text-white">{{ config.theme.footer_about_title }}</h4>
                    <p class="text-brand-gray/60 leading-relaxed">
                        {{ config.theme.footer_mission }}
                    </p>
                </div>
                
                {# Social Icons #}
                <div class="flex gap-4">
                    {% for social in config.theme.social_links %}
                        <a href="{{ social.url }}" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-brand-gray hover:bg-brand-primary hover:text-white transition-all duration-300" aria-label="{{ social.network }}">
                            <i class="lab la-{{ social.network }} text-xl"></i>
                        </a>
                    {% endfor %}
                </div>
            </div>
            
            {# Column 2: Quick Links #}
            <div class="@lg:col-span-1">
                <h4 class="font-bold text-lg mb-8">Quick Links</h4>
                <ul class="space-y-4">
                    {% for link in config.theme.footer_links %}
                        <li>
                            <a href="{{ link.url }}" class="text-brand-gray/80 hover:text-brand-primary transition-colors flex items-center gap-2 group">
                                <i class="las la-angle-right text-xs group-hover:translate-x-1 transition-transform"></i>
                                {{ link.text }}
                            </a>
                        </li>
                    {% endfor %}
                     {# Fallback links #}
                    {% if not config.theme.footer_links %}
                        <li><a href="/about" class="text-brand-gray hover:text-brand-primary">About Us</a></li>
                        <li><a href="/services" class="text-brand-gray hover:text-brand-primary">Our Services</a></li>
                        <li><a href="/projects" class="text-brand-gray hover:text-brand-primary">Projects</a></li>
                        <li><a href="/contact" class="text-brand-gray hover:text-brand-primary">Contact</a></li>
                    {% endif %}
                </ul>
            </div>
            
            {# Column 3: Contact Info #}
            <div class="@lg:col-span-1">
                <h4 class="font-bold text-lg mb-8">Contact Us</h4>
                <ul class="space-y-6">
                    <li class="flex items-start gap-4">
                        <i class="las la-map-marker text-brand-primary text-xl mt-1"></i>
                        <span class="text-brand-gray">{{ config.theme.contact_address|nl2br }}</span>
                    </li>
                    <li class="flex items-center gap-4">
                        <i class="las la-envelope text-brand-primary text-xl"></i>
                        <a href="mailto:{{ config.theme.contact_email }}" class="text-brand-gray hover:text-white transition-colors">{{ config.theme.contact_email }}</a>
                    </li>
                    <li class="flex items-center gap-4">
                        <i class="lab la-whatsapp text-brand-primary text-xl"></i>
                        <a href="https://wa.me/{{ config.theme.contact_whatsapp }}" class="text-brand-gray hover:text-white transition-colors">{{ config.theme.contact_whatsapp }}</a>
                    </li>
                </ul>
            </div>
            
            {# Column 4: Newsletter #}
            <div class="@lg:col-span-1">
                <h4 class="font-bold text-lg mb-8">Stay Updated</h4>
                <p class="text-brand-gray mb-6 text-sm">Join our weekly digest for community news and impact reports.</p>
                
                {% if config.theme.newsletter_enabled %}
                    <form action="{{ config.theme.newsletter_action }}" method="post" class="space-y-3">
                        <div class="relative">
                            <input type="email" placeholder="Email Address" required
                                   class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-brand-gray focus:outline-none focus:border-brand-primary transition-colors">
                        </div>
                        <button type="submit" class="w-full bg-brand-primary text-white font-bold uppercase tracking-widest text-xs py-4 rounded-xl hover:bg-brand-secondary transition-colors">
                            Subscribe
                        </button>
                    </form>
                {% else %}
                     <div class="bg-white/5 border border-white/10 rounded-xl p-4 text-center">
                        <span class="text-brand-gray text-xs uppercase tracking-widest">Newsletter Coming Soon</span>
                    </div>
                {% endif %}
            </div>
        </div>
        
        <div class="flex flex-col @md:flex-row items-center justify-between gap-6 text-xs text-brand-gray uppercase tracking-widest">
            <p>&copy; {{ "now"|date("Y") }} {{ site.title }}. All Rights Reserved.</p>
            <div class="flex items-center gap-6">
                 <a href="/privacy" class="hover:text-white transition-colors">Privacy</a>
                 <a href="/terms" class="hover:text-white transition-colors">Terms</a>
                 <span class="opacity-50">Built on Grav</span>
            </div>
        </div>
    </div>
</footer>
