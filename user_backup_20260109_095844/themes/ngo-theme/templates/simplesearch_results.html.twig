{% extends 'partials/base.html.twig' %}

{% block content %}
    <section class="py-32 bg-brand-bg min-h-[85svh] @container overflow-hidden relative [content-visibility:auto]" aria-labelledby="search-results-heading">
        {# Background Decorative Elements #}
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1000px] h-[1000px] bg-brand-primary/5 rounded-full blur-[200px] -z-10 animate-pulse" aria-hidden="true"></div>

        <div class="container mx-auto px-6 max-w-6xl animate-in zoom-in-95 duration-1000">
            <header class="text-center mb-24 space-y-8">
                <div class="inline-flex w-24 h-24 bg-gradient-to-br from-brand-primary to-brand-secondary text-white rounded-[2.5rem] items-center justify-center shadow-3xl shadow-brand-primary/20 mb-6 rotate-6 hover:rotate-0 transition-all duration-700" aria-hidden="true">
                    <span class="la la-search text-5xl"></span>
                </div>
                <h1 id="search-results-heading" class="text-6xl font-black font-heading text-brand-dark tracking-tightest leading-tight">
                    {{ "PLUGIN_SIMPLESEARCH.SEARCH_RESULTS"|t }}
                </h1>
                <p class="text-2xl text-brand-dark/50 font-medium tracking-tight max-w-2xl mx-auto leading-relaxed">
                    {{ "PLUGIN_SIMPLESEARCH.SEARCH_RESULTS_SUMMARY"|t(query, search_results.count)|raw }}
                </p>
            </header>

            <div class="mb-24 max-w-3xl mx-auto scale-110">
                {% include 'partials/simplesearch_searchbox.html.twig' %}
            </div>

            <div class="space-y-12" role="list" aria-label="Search Results">
                {% for p in search_results %}
                    <div class="animate-in fade-in slide-in-from-bottom-8 duration-700" style="animation-delay: {{ loop.index0 * 100 }}ms" role="listitem">
                        {% include 'partials/simplesearch_item.html.twig' with {'page': p} %}
                    </div>
                {% endfor %}
            </div>
            
            {% if search_results is empty %}
            <div class="text-center py-32 px-12 bg-surface-sunken/40 backdrop-blur-3xl rounded-[4.5rem] border border-brand-primary/10 shadow-3xl shadow-black/5 animate-in slide-in-from-bottom-12 duration-1000 group/empty" role="status">
                <div class="relative inline-flex mb-12">
                    <div class="absolute inset-0 bg-brand-primary/20 blur-3xl rounded-full group-hover:scale-150 transition-transform duration-1000" aria-hidden="true"></div>
                    <div class="relative inline-flex items-center justify-center w-32 h-32 rounded-[3.5rem] bg-gradient-to-br from-brand-primary to-brand-secondary text-white shadow-2xl rotate-12 group-hover:rotate-0 transition-all duration-700" aria-hidden="true">
                        <span class="la la-search-minus text-7xl"></span>
                    </div>
                </div>
                <h3 class="text-5xl font-black font-heading text-brand-dark mb-6 tracking-tightest leading-tight">No results found</h3>
                <p class="text-2xl text-brand-dark/40 font-medium max-w-md mx-auto leading-relaxed mb-12">
                    Our wisdom archives couldn't find a match for <span class="text-brand-primary font-black">"{{ query }}"</span>.
                </p>
                <a href="{{ base_url_absolute }}" class="inline-flex items-center gap-6 px-12 py-6 bg-brand-primary/5 text-brand-primary font-black rounded-3xl hover:bg-brand-primary hover:text-white transition-all active:scale-95 group/btn" aria-label="Return home">
                     <span class="la la-arrow-left text-xl transition-transform group-hover/btn:-translate-x-2" aria-hidden="true"></span>
                     <span class="uppercase tracking-widest text-xs">Return Home</span>
                </a>
            </div>
            {% endif %}

        </div>
    </section>
{% endblock %}
