{#
/**
 * CONTACT INFO COMPONENT
 * 
 * Renders contact information from global theme configuration
 * Automatically pulls from agent_identity_* or contact_* config
 * 
 * @param string address     - Override address (optional)
 * @param string email       - Override email (optional)
 * @param string phone       - Override phone (optional)
 * @param string layout      - Layout: list|inline|card
 * @param boolean obfuscate  - Obfuscate email (default: true)
 * @param boolean icons      - Show icons (default: true)
 * @param string class       - Additional CSS classes
 * 
 * Usage:
 * {% include 'components/contact-info.html.twig' with {
 *     layout: 'list',
 *     icons: true
 * } %}
 */
#}

{% set address = address|default(theme_var('agent_identity_address')|default(theme_var('contact_address'))) %}
{% set email = email|default(theme_var('agent_identity_email')|default(theme_var('contact_email'))) %}
{% set phone = phone|default(theme_var('agent_identity_phone')|default(theme_var('contact_phone'))) %}
{% set layout = layout|default('list') %}
{% set obfuscate = obfuscate is defined ? obfuscate : true %}
{% set icons = icons is defined ? icons : true %}
{% set class = class|default('') %}

{% if address or email or phone %}
    <div class="contact-info contact-info--{{ layout }} {{ class }}">
        {% if address %}
            <div class="contact-item contact-item--address">
                {% if icons %}
                    <i class="fas fa-map-marker-alt contact-icon" aria-hidden="true"></i>
                {% endif %}
                <span class="contact-text">{{ address }}</span>
            </div>
        {% endif %}
        
        {% if email %}
            <div class="contact-item contact-item--email">
                {% if icons %}
                    <i class="fas fa-envelope contact-icon" aria-hidden="true"></i>
                {% endif %}
                {% if obfuscate %}
                    {% include 'components/utilities/email-obfuscate.html.twig' with { 
                        email: email,
                        text: email,
                        class: 'contact-text'
                    } %}
                {% else %}
                    <a href="mailto:{{ email }}" class="contact-text">{{ email }}</a>
                {% endif %}
            </div>
        {% endif %}
        
        {% if phone %}
            <div class="contact-item contact-item--phone">
                {% if icons %}
                    <i class="fas fa-phone contact-icon" aria-hidden="true"></i>
                {% endif %}
                <a href="tel:{{ phone|replace({' ': '', '-': '', '(': '', ')': ''}) }}" class="contact-text">{{ phone }}</a>
            </div>
        {% endif %}
    </div>
{% endif %}
