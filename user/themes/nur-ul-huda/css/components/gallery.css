@layer components {
  /* 
     ========================================
     GALLERY COMPONENT
     Role: Modular image gallery layouts
     Blueprint: [ui-components.blueprint.md](file:///Users/syedaalin/Documents/Grav/user/themes/nur-ul-huda/blueprints/docs/ui-components.blueprint.md)
     ========================================
  */
  /* ========================================
     Gallery Components
     ======================================== */

  @scope (.modular-gallery) {
    :scope {
      container-type: inline-size;
      padding-block: var(--spacing-section);
    }

    .gallery-grid {
      display: grid;
      gap: var(--space-m);
      grid-template-columns: 1fr;

      @container (inline-size >= 37.5rem) {
        grid-template-columns: repeat(2, 1fr);
      }
      @container (inline-size >= 56.25rem) {
        grid-template-columns: repeat(3, 1fr);
      }
      @container (inline-size >= 75rem) {
        grid-template-columns: repeat(4, 1fr);
      }
    }

    .gallery-item {
      position: relative;
      border-radius: var(--radius-lg);
      overflow: hidden;
      cursor: pointer;
      aspect-ratio: 1;

      &:hover {
        z-index: 10;
        outline: var(--border-medium) solid var(--color-primary);
        outline-offset: calc(var(--border-medium) * -1);
      }
    }

    .gallery-image-wrapper {
      inline-size: 100%;
      block-size: 100%;
      position: relative;

      img {
        inline-size: 100%;
        block-size: 100%;
        object-fit: cover;
        transition: scale 500ms var(--transition-smooth);
      }

      .gallery-item:hover & img {
        scale: 1.1;
      }
    }

    .gallery-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(
        to block-start,
        oklch(from var(--color-black) l c h / 0.7),
        transparent
      );
      opacity: 0;
      transition: opacity var(--transition-standard);

      .gallery-item:hover & {
        opacity: 1;
      }
    }

    .gallery-caption {
      position: absolute;
      inset-inline: 0;
      inset-block-end: 0;
      padding: var(--space-m);
      color: var(--color-white);
      translate: 0 100%;
      transition: translate var(--transition-smooth);
      z-index: 20;

      .gallery-item:hover & {
        translate: 0 0;
      }
    }

    .gallery-title {
      font-weight: 700;
      margin: 0;
      text-shadow: 0 0.125rem 0.25rem oklch(from var(--color-black) l c h / 0.5);
    }
  }
}
