@layer components {
  /* 
     ========================================
     NAVIGATION COMPONENT
     Role: Primary site navigation and login status
     Blueprint: [ui-layout.blueprint.md](file:///Users/syedaalin/Documents/Grav/user/themes/nur-ul-huda/blueprints/docs/ui-layout.blueprint.md)
     ========================================
  */
  /* ========================================
     Navigation Components
     ======================================== */

  @scope (.nav-link) {
    :scope {
      position: relative;
      font-weight: 700;
      color: var(--color-dark);
      text-decoration: none;
      transition:
        color var(--transition-standard),
        background-color var(--transition-standard);

      &:hover {
        color: var(--color-primary);
      }

      &::after {
        content: "";
        position: absolute;
        inset-inline-start: 0;
        inset-block-end: 0;
        inline-size: 0;
        block-size: var(--border-medium);
        background-color: var(--color-primary);
        transition: inline-size var(--transition-smooth);
      }

      &:hover::after {
        inline-size: 100%;
      }

      &.active {
        color: var(--color-primary);

        &::after {
          inline-size: 100%;
        }
      }
    }
  }

  /* ========================================
     Login Status
     ======================================== */

  @scope (.login-status) {
    :scope {
      display: inline-flex;
      align-items: center;
      gap: var(--space-s);
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: var(--space-s);
      padding-block: 0.375rem;
      padding-inline: var(--space-m);
      background-color: var(--color-white);
      border: var(--border-thin) solid var(--color-highlight-subtle);
      border-radius: var(--radius-xl);

      font-size: var(--font-size-xs);
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--color-subtle);
    }

    .status-avatar {
      font-size: var(--font-size-lg);
      color: oklch(from var(--color-primary) l c h / 0.6);
    }

    .status-user {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-inline-size: 7.5rem;
    }

    .logout-btn {
      margin-inline-start: var(--space-s);
      inline-size: 1.75rem;
      block-size: 1.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--radius-lg);
      background-color: oklch(from var(--color-black) l c h / 0.05);
      transition:
        color var(--transition-standard),
        background-color var(--transition-standard),
        transform var(--transition-standard);
      color: inherit;
      text-decoration: none;

      &:hover {
        background-color: oklch(from var(--color-error) l c h / 0.1);
        color: var(--color-error);
      }
    }

    .login-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: var(--font-size-xs);
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--color-subtle);
      padding-block: var(--space-s);
      padding-inline: var(--space-m);
      border-radius: var(--radius-xl);
      transition:
        color var(--transition-standard),
        background-color var(--transition-standard),
        transform var(--transition-standard);
      text-decoration: none;

      &:hover {
        color: var(--color-primary);
        background-color: var(--color-success-subtle);
      }
    }
  }

  /* ========================================
     Nav Submenu
     ======================================== */

  @scope (.desktop-nav) {
    .desktop-submenu {
      position: absolute;
      inset-block-start: 100%;
      inset-inline-start: 0;
      min-inline-size: 14rem;
      padding: var(--space-s);
      background-color: oklch(from var(--color-white) l c h / 0.85);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: var(--border-thin) solid
        oklch(from var(--color-highlight-subtle) l c h / 0.5);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-xl);
      opacity: 0;
      visibility: hidden;
      translate: 0 var(--space-s);
      transition:
        opacity var(--transition-smooth),
        visibility var(--transition-smooth),
        translate var(--transition-smooth);
      border-start-start-radius: 0;
    }

    .desktop-nav-item:hover .desktop-submenu {
      opacity: 1;
      visibility: visible;
      translate: 0 0;
    }

    .desktop-submenu li a {
      display: block;
      padding: 0.5rem 1rem;
      border-radius: var(--radius-lg);
      font-size: var(--font-size-sm);
      font-weight: 700;
      color: var(--color-dark);
      transition:
        color var(--transition-standard),
        background-color var(--transition-standard),
        transform var(--transition-standard);

      &:hover {
        background-color: oklch(from var(--color-primary) l c h / 0.05);
        color: var(--color-primary);
      }

      &[aria-current="page"] {
        background-color: var(--color-primary);
        color: var(--color-white);
      }
    }
  }
}
