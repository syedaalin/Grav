@layer components {
  /* ========================================
     Navigation Components
     ======================================== */

  @scope (.nav-link) {
    :scope {
      position: relative;
      font-weight: 700;
      color: var(--color-dark);
      text-decoration: none;
      padding-block: 0.5rem;
      transition: color var(--transition-standard);
      
      &:hover {
        color: var(--color-primary);
      }
      
      &::after {
        content: '';
        position: absolute;
        inset-inline-start: 0;
        inset-block-end: 0;
        inline-size: 0;
        block-size: 2px;
        background-color: var(--color-primary);
        transition: inline-size var(--transition-smooth);
      }
      
      &:hover::after {
        inline-size: 100%;
      }
      
      &.active {
        color: var(--color-primary);
        
        &::after {
          inline-size: 100%;
        }
      }
    }
  }

  /* ========================================
     Login Status
     ======================================== */
     
  @scope (.login-status) {
      :scope {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
      }
      
      .status-badge {
          display: inline-flex;
          align-items: center;
          gap: var(--space-s);
          padding-block: 0.375rem;
          padding-inline: var(--space-m);
          background-color: oklch(1 0 0 / 0.4);
          -webkit-backdrop-filter: blur(12px);
          backdrop-filter: blur(12px);
          border: 1px solid oklch(1 0 0 / 0.2);
          border-radius: var(--radius-xl);
          
          font-size: 0.75rem;
          font-weight: 900;
          text-transform: uppercase;
          letter-spacing: 0.1em;
          color: var(--color-subtle);
      }
      
      .status-avatar {
          font-size: 1.125rem; /* text-lg */
          color: oklch(from var(--color-primary) l c h / 0.6);
      }
      
      .status-name {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 120px;
      }
      
      .logout-btn {
          margin-inline-start: var(--space-s);
          inline-size: 1.75rem;
          block-size: 1.75rem;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: var(--radius-lg);
          background-color: oklch(0 0 0 / 0.05);
          transition: all 200ms;
          color: inherit;
          text-decoration: none;
          
          &:hover {
              background-color: oklch(from var(--color-error) l c h / 0.1);
              color: var(--color-error);
          }
      }
      
      .login-link {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.75rem;
          font-weight: 900;
          text-transform: uppercase;
          letter-spacing: 0.05em;
          color: var(--color-subtle);
          padding: 0.5rem 1rem;
          border-radius: var(--radius-xl);
          transition: all 200ms;
          text-decoration: none;
          
          &:hover {
              color: var(--color-primary);
              background-color: oklch(from var(--color-primary) l c h / 0.1);
          }
      }
  }

  /* ========================================
     Nav Submenu
     ======================================== */


  @scope (.desktop-nav) {
      .desktop-submenu {
          position: absolute;
          inset-block-start: 100%;
          inset-inline-start: 0;
          min-inline-size: 14rem;
          padding: var(--space-s);
          background-color: oklch(1 0 0 / 0.8);
          -webkit-backdrop-filter: blur(12px);
          backdrop-filter: blur(12px);
          border: 1px solid oklch(1 0 0 / 0.6);
          border-radius: var(--radius-xl);
          box-shadow: var(--shadow-xl);
          opacity: 0;
          visibility: hidden;
          transform: translateY(10px);
          transition: var(--transition-smooth);
          border-start-start-radius: 0;
      }
      
      .nav-item:hover .desktop-submenu {
          opacity: 1;
          visibility: visible;
          transform: translateY(0);
      }
      
      .desktop-submenu li a {
          display: block;
          padding: 0.5rem 1rem;
          border-radius: var(--radius-lg);
          font-size: 0.875rem; 
          font-weight: 700;
          color: var(--color-dark);
          transition: all 200ms;
          
          &:hover {
             background-color: oklch(from var(--color-primary) l c h / 0.05);
             color: var(--color-primary);
          }
          
          &[aria-current="page"] {
             background-color: var(--color-primary);
             color: white;
          }
      }
  }
}
