{% block module_content %}
  {% set data = page.header.gallery %}
  {% set thumb_width = data.thumb.width|default(600) %}
  {% set thumb_height = data.thumb.height|default(450) %}

  <div class="max-w-7xl mx-auto px-4">
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
      {% set gallery = md5(page.url) %}
      {% for item in data.items %}
        <div class="gallery-item">
          {% set item_image = page.media[item.image] %}
          {% if item.title %}
            {% set title = item.title %}
          {% endif %}
          {% if item.desc %}
            {% set desc = ".desc-" ~ md5(item.desc) %}
          {% endif %}
          {% set content = item_image.cropZoom(thumb_width,thumb_height).html(title, title) %}
          {% set image =  item_image.url %}
          {% include "partials/lightbox.html.twig" %}
        </div>
      {% endfor %}
    </div>
    <div class="hidden">
      {% for item in data.items %}
        {% if item.desc %}
          <div class="glightbox-desc desc-{{ md5(item.desc) }}">
            <p>{{ item.desc|markdown(false) }}</p>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
{% endblock %}
