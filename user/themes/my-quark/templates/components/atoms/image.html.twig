{#
/**
 * RESPONSIVE IMAGE COMPONENT (from macros)
 * 
 * Optimized image with modern formats (AVIF, WebP), lazy loading, CLS prevention
 * Wrapper around the image macro for easier use
 * 
 * @param object image       - Grav media object
 * @param string alt         - Alt text
 * @param string sizes       - Sizes attribute (default: 100vw)
 * @param string loading     - Loading strategy: lazy|eager|auto
 * @param string class       - Additional CSS classes
 * @param boolean cover      - Use object-fit: cover
 * 
 * Usage:
 * {% include 'components/image.html.twig' with {
 *     image: page.media['hero.jpg'],
 *     alt: 'Hero Image',
 *     loading: 'eager',
 *     sizes: '(max-width: 768px) 100vw, 50vw'
 * } %}
 */
#}

{% import 'macros/image.html.twig' as img_macro %}

{% set image = image|default(null) %}
{% set alt = alt|default('') %}
{% set sizes = sizes|default('100vw') %}
{% set loading = loading|default(theme_config.image_default_loading|default('lazy')) %}
{% set class = class|default('') %}
{% set cover = cover|default(false) %}

{% if image %}
    <div class="image-component {{ class }} {{ cover ? 'image--cover' : '' }}">
        {{ img_macro.responsive_image(image, alt, sizes, loading) }}
    </div>
{% endif %}
