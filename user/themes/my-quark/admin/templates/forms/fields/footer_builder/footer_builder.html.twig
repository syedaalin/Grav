{% extends "forms/field.html.twig" %}

{% block input %}
    <div class="footer-builder-wrapper" style="margin-top: 2rem;">
        
        {# The hidden input that Grav uses to save data #}
        <textarea
            style="display:none;"
            name="{{ (scope ~ field.name)|fieldName }}"
            id="footer_builder_data"
            data-label="{{ field.label|t }}"
            >{{ value|json_encode }}</textarea>
        
        {# Root container for React App #}
        <div id="footer-builder-root" style="min-height: 600px; border: 1px solid #e1e1e1; border-radius: 6px; background: white; box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
            <div style="padding: 40px; text-align: center; color: #666;">
                <div class="spinner"></div>
                <p>Loading Website Footer Builder 2026...</p>
            </div>
        </div>

    </div>

    {# Load Assets #}
    {% do assets.addCss('theme://js/admin/footer-builder.css') %}
    {% do assets.addJs('theme://js/admin/footer-builder.js', { 'loading': 'module', 'priority': 10 }) %}
{% endblock %}
