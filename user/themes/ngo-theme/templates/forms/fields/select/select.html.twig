{% extends "forms/field.html.twig" %}

{% block input %}
    <div class="{{ form_field_wrapper_classes ?: 'mb-2' }} {{ field.size }} {{ field.wrapper_classes }} relative group/select">
        <select
            {# required attribute structures #}
            name="{{ (scope ~ field.name)|fieldName }}"
            {# input attribute structures #}
            {% block input_attributes %}
                class="block w-full px-10 py-6 bg-white/5 backdrop-blur-3xl border border-white/10 rounded-[2rem] shadow-inner-lg focus:outline-none focus:ring-12 focus:ring-brand-primary/10 focus:border-brand-primary/40 focus:bg-white/10 text-brand-dark font-black text-xl transition-all duration-700 ease-premium hover:border-brand-primary/40 appearance-none {{ field.classes }} peer cursor-pointer"
                {% if field.id is defined %}id="{{ field.id|e }}" {% endif %}
                {% if field.style is defined %}style="{{ field.style|e }}" {% endif %}
                {% if field.disabled or isDisabledToggleable %}disabled="disabled"{% endif %}
                {% if field.autofocus in ['on', 'true', 1] %}autofocus="autofocus"{% endif %}
                {% if field.novalidate in ['on', 'true', 1] %}novalidate="novalidate"{% endif %}
                {% if required %}required="required" aria-required="true"{% endif %}
                {% if field.multiple in ['on', 'true', 1] %}multiple="multiple"{% endif %}
                {% if field.help %}aria-describedby="{{ field.id|e }}-help"{% endif %}
            {% endblock %}
            >
            {% if field.placeholder %}<option value="" disabled selected class="text-brand-dark/30">{{ field.placeholder|t }}</option>{% endif %}

            {% for key, text in field.options %}
                {% set selected = field.selectize ? text : key %}
                {% set val = value %}
                <option {% if val == selected %}selected="selected"{% endif %} value="{{ selected|e }}" class="bg-brand-bg text-brand-dark">{{ text|t }}</option>
            {% endfor %}
        </select>
        
        {# Premium Custom Indicator Arrow #}
        <div class="absolute right-8 top-1/2 -translate-y-1/2 pointer-events-none transition-all duration-700 ease-premium group-hover/select:translate-y-[-40%] group-hover/select:text-brand-primary peer-focus:rotate-180 peer-focus:text-brand-primary" aria-hidden="true">
            <span class="la la-angle-down text-2xl"></span>
        </div>
        
        {# Inner Glow / Depth Logic #}
        <div class="absolute inset-0 rounded-[2rem] border border-white/5 pointer-events-none z-10 opacity-0 group-hover/select:opacity-100 transition-opacity duration-700" aria-hidden="true"></div>
    </div>
{% endblock %}
